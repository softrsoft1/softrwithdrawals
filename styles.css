const transactionList = document.getElementById('transaction-list');

const names = ['Liam', 'Olivia', 'Noah', 'Emma', 'William', 'James', 'Ava', 'Sophia', 'Lucas', 'Elijah', 'Mason', 'Harper', 'John', 'Robert', 'Sarah', 'Abigail'];
const countries = ['UK', 'South Africa', 'Afrikaans'];
const addresses = [
    '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa',
    '3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy',
    'bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwfha0',
    '0x742d35Cc6634C0532925a3b844Bc454e4438f44e',
    '0x53d284357ec70ce289d6d64134dfac8e511c8a3d'
];
const amounts = ['0.05 BTC', '0.2 BTC', '1.5 BTC', '0.75 BTC', '0.01 BTC', '50 USDT', '150 USDT', '250 USDT', '500 USDT'];

let transactions = [];

function getRandomItem(array) {
    return array[Math.floor(Math.random() * array.length)];
}

function generateTransaction() {
    const name = getRandomItem(names) + ' (' + getRandomItem(countries) + ')';
    const amount = getRandomItem(amounts);
    const address = getRandomItem(addresses);

    return {
        name,
        amount,
        address
    };
}

function populateInitialTransactions() {
    for (let i = 0; i < 400; i++) {
        transactions.push(generateTransaction());
    }
}

function displayTransactions(startIndex) {
    const displayData = transactions.slice(startIndex, startIndex + 10);
    transactionList.innerHTML = displayData.map(transaction => 
        `<tr>
            <td>${transaction.name}</td>
            <td>${transaction.amount}</td>
            <td>${transaction.address}</td>
        </tr>`
    ).join('');
}

function randomizeInterval() {
    return Math.floor(Math.random() * (15000 - 5000 + 1)) + 5000;
}

function startTransactionRoll() {
    let index = 0;
    displayTransactions(index);
    
    setInterval(function() {
        index = (index + 10) % transactions.length;
        displayTransactions(index);
    }, randomizeInterval());
}

document.addEventListener('DOMContentLoaded', () => {
    populateInitialTransactions();
    startTransactionRoll();
});
